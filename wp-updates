#!/bin/bash

# Plugins, die nicht aktualisiert werden sollen
EXCLUDE_PLUGINS=("woocommerce-product-stock-alert" "tiktok-for-woocommerce")

# Erstelle einen String, der alle auszuschlieÃŸenden Plugins enthÃ¤lt
EXCLUDES=""
for PLUGIN in "${EXCLUDE_PLUGINS[@]}"; do
  EXCLUDES+="--exclude=${PLUGIN} "
done

# Aktualisiere WordPress Core
echo "ðŸ”„ Update Wordpress Core"
${HOME}/yps.tools/wp --path="${HOME}/public_html" core update

# Aktualisiere alle Themes
echo "ðŸ”„ Update Themes"
${HOME}/yps.tools/wp --path="${HOME}/public_html" theme update --all

# Aktualisiere alle Plugins, auÃŸer den ausgeschlossenen
echo "ðŸ”„ Update Wordpress Plugins"
${HOME}/yps.tools/wp --path="${HOME}/public_html" plugin update --all $EXCLUDES

# Aktualisiere die WordPress-Datenbank
echo "ðŸ”„ Update Database"
${HOME}/yps.tools/wp --path="${HOME}/public_html" core update-db